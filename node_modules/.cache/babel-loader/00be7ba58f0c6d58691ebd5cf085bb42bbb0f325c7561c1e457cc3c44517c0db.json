{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { root_url } from '../../global';\nconst initialState = {\n  list: []\n};\nexport const fetchProducts = createAsyncThunk('Products/fetchProducts', async () => {\n  const response = await fetch(`${root_url}products/all`);\n  const data = await response.json();\n  return data;\n});\nconst products_slice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    sortProductsAction(state, action) {\n      if (action.payload === 'default') {\n        state = state.sort((a, b) => a.id - b.id);\n      } else if (action.payload === 'title') {\n        state = state.sort((a, b) => a.title.localeCompare(b.title));\n      } else if (action.payload === 'price_low') {\n        state = state.sort((a, b) => a.price - b.price);\n      } else if (action.payload === 'price_high') {\n        state = state.sort((a, b) => b.price - a.price);\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProducts.pending, state => {\n      //pending\n      state.status = 'loading';\n    }).addCase(fetchProducts.fulfilled, (state, action) => {\n      //success\n      state.status = 'ready';\n      state.list = action.payload;\n    }).addCase(fetchProducts.rejected, state => {\n      //rejected\n      state.status = 'error';\n    });\n  }\n});\nexport default products_slice.reducer;\nexport const {\n  loadProducts\n} = products_slice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","root_url","initialState","list","fetchProducts","response","fetch","data","json","products_slice","name","reducers","sortProductsAction","state","action","payload","sort","a","b","id","title","localeCompare","price","extraReducers","builder","addCase","pending","status","fulfilled","rejected","reducer","loadProducts","actions"],"sources":["/Users/anastasiakobyzeva/Desktop/ReactTest/ProjectTelRun/2808nelly/src/store/slices/products_slice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { root_url } from '../../global'\n\nconst initialState = {\n    list: [],\n}\n\nexport const fetchProducts = createAsyncThunk(\n    'Products/fetchProducts',\n    async () => {\n        const response = await fetch(`${root_url}products/all`);\n        const data = await response.json();\n        return data;\n    }\n)\n\nconst products_slice = createSlice({\n    name: 'products',\n    initialState,\n    reducers: {\n        sortProductsAction(state, action) {\n            if (action.payload === 'default') {\n                state = state.sort((a, b) => a.id-b.id)\n            } else if(action.payload === 'title') {\n                state = state.sort((a, b) => a.title.localeCompare(b.title))\n            } else if (action.payload === 'price_low') {\n                state = state.sort((a, b) => a.price-b.price)\n            } else if (action.payload === 'price_high') {\n                state = state.sort((a, b) => b.price-a.price)\n            } \n        }\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchProducts.pending, (state) => {    //pending\n                state.status = 'loading'\n            })\n            .addCase(fetchProducts.fulfilled, (state, action) => {   //success\n                state.status = 'ready'\n                state.list = action.payload\n            })\n            .addCase(fetchProducts.rejected, (state) => {   //rejected\n                state.status = 'error'\n            })\n    }\n})\n\nexport default products_slice.reducer;\nexport const { loadProducts } = products_slice.actions;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,SAASC,QAAQ,QAAQ,cAAc;AAEvC,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGL,gBAAgB,CACzC,wBAAwB,EACxB,YAAY;EACR,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEL,QAAS,cAAa,CAAC;EACvD,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACf,CACJ,CAAC;AAED,MAAME,cAAc,GAAGT,WAAW,CAAC;EAC/BU,IAAI,EAAE,UAAU;EAChBR,YAAY;EACZS,QAAQ,EAAE;IACNC,kBAAkBA,CAACC,KAAK,EAAEC,MAAM,EAAE;MAC9B,IAAIA,MAAM,CAACC,OAAO,KAAK,SAAS,EAAE;QAC9BF,KAAK,GAAGA,KAAK,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,EAAE,GAACD,CAAC,CAACC,EAAE,CAAC;MAC3C,CAAC,MAAM,IAAGL,MAAM,CAACC,OAAO,KAAK,OAAO,EAAE;QAClCF,KAAK,GAAGA,KAAK,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACG,KAAK,CAACC,aAAa,CAACH,CAAC,CAACE,KAAK,CAAC,CAAC;MAChE,CAAC,MAAM,IAAIN,MAAM,CAACC,OAAO,KAAK,WAAW,EAAE;QACvCF,KAAK,GAAGA,KAAK,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACK,KAAK,GAACJ,CAAC,CAACI,KAAK,CAAC;MACjD,CAAC,MAAM,IAAIR,MAAM,CAACC,OAAO,KAAK,YAAY,EAAE;QACxCF,KAAK,GAAGA,KAAK,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACI,KAAK,GAACL,CAAC,CAACK,KAAK,CAAC;MACjD;IACJ;EACJ,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAACrB,aAAa,CAACsB,OAAO,EAAGb,KAAK,IAAK;MAAK;MAC5CA,KAAK,CAACc,MAAM,GAAG,SAAS;IAC5B,CAAC,CAAC,CACDF,OAAO,CAACrB,aAAa,CAACwB,SAAS,EAAE,CAACf,KAAK,EAAEC,MAAM,KAAK;MAAI;MACrDD,KAAK,CAACc,MAAM,GAAG,OAAO;MACtBd,KAAK,CAACV,IAAI,GAAGW,MAAM,CAACC,OAAO;IAC/B,CAAC,CAAC,CACDU,OAAO,CAACrB,aAAa,CAACyB,QAAQ,EAAGhB,KAAK,IAAK;MAAI;MAC5CA,KAAK,CAACc,MAAM,GAAG,OAAO;IAC1B,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAelB,cAAc,CAACqB,OAAO;AACrC,OAAO,MAAM;EAAEC;AAAa,CAAC,GAAGtB,cAAc,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}