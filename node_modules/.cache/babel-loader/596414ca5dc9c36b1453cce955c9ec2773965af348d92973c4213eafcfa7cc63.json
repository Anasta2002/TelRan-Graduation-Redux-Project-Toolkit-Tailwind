{"ast":null,"code":"const LOAD_PRODUCTS = 'LOAD_PRODUCTS';\nconst SORT_PRODUCTS_CATEGORIES = 'SORT_PRODUCTS_CATEGORIES';\nconst FILTER_PRODUCTS_CATEGORIES = 'FILTER_PRODUCTS_CATEGORIES';\nconst GET_CHEAP_PRODUCT_CATEGORIES = 'GET_CHEAP_PRODUCT_CATEGORIES';\nexport const loadProductsByCategoryAction = payload => ({\n  type: LOAD_PRODUCTS,\n  payload\n});\nexport const sortProductsCategoryAction = payload => ({\n  type: SORT_PRODUCTS_CATEGORIES,\n  payload\n});\nexport const filterProductsCategoryAction = payload => ({\n  type: FILTER_PRODUCTS_CATEGORIES,\n  payload\n});\nexport const getCheapProductCategoryAction = payload => ({\n  type: GET_CHEAP_PRODUCT_CATEGORIES,\n  payload\n});\nexport const products_by_category_reducer = (state = {}, action) => {\n  // if (action.type === LOAD_PRODUCTS) {\n  //     const { data, category } = action.payload;\n  //     const data_show_product = data.map(el => ({...el, show_product: true}));\n  //     return [...state, category, data: data_show_product]\n  // } \n  // else \n  if (action.type === SORT_PRODUCTS_CATEGORIES) {\n    if (action.payload === 'default') {\n      console.log(state.data);\n      state.sort((a, b) => a.id - b.id);\n    } else if (action.payload === 'title') {\n      state.sort((a, b) => a.title.localeCompare(b.title));\n    } else if (action.payload === 'price_low') {\n      state.sort((a, b) => a.price - b.price);\n    } else if (action.payload === 'price_high') {\n      state.sort((a, b) => b.price - a.price);\n    }\n    return [...state];\n  } else if (action.type === FILTER_PRODUCTS_CATEGORIES) {\n    const {\n      min_value,\n      max_value\n    } = action.payload;\n    // return state.map(el => {\n    //     if(el.price >= min_value && el.price <= max_value ) {\n    //         el.show_product = true\n    //     } else {\n    //         el.show_product = false\n    //     } \n    //     return el\n    // })  \n    const filterData = [...state.data].map(el => {\n      if (el.price >= min_value && el.price <= max_value) {\n        el.show_product = true;\n      } else {\n        el.show_product = false;\n      }\n      return el;\n    });\n    return {\n      ...state,\n      data: filterData\n    };\n  } else if (action.type === GET_CHEAP_PRODUCT_CATEGORIES) {\n    if (action.payload) {\n      return state.map(el => {\n        if (el.price > 100) {\n          el.show_product = false;\n        }\n        return el;\n      });\n    } else {\n      return state.map(el => {\n        el.show_product = true;\n        return el;\n      });\n    }\n  } else return state;\n};","map":{"version":3,"names":["LOAD_PRODUCTS","SORT_PRODUCTS_CATEGORIES","FILTER_PRODUCTS_CATEGORIES","GET_CHEAP_PRODUCT_CATEGORIES","loadProductsByCategoryAction","payload","type","sortProductsCategoryAction","filterProductsCategoryAction","getCheapProductCategoryAction","products_by_category_reducer","state","action","console","log","data","sort","a","b","id","title","localeCompare","price","min_value","max_value","filterData","map","el","show_product"],"sources":["/Users/anastasiakobyzeva/Desktop/ReactTest/ProjectTelRun/2808nelly/src/store/products_by_category_reducer/products_by_category_reducer.js"],"sourcesContent":["const LOAD_PRODUCTS = 'LOAD_PRODUCTS'\nconst SORT_PRODUCTS_CATEGORIES = 'SORT_PRODUCTS_CATEGORIES'\nconst FILTER_PRODUCTS_CATEGORIES = 'FILTER_PRODUCTS_CATEGORIES'\nconst GET_CHEAP_PRODUCT_CATEGORIES = 'GET_CHEAP_PRODUCT_CATEGORIES'\n\nexport const loadProductsByCategoryAction = payload => ({type: LOAD_PRODUCTS, payload}) \nexport const sortProductsCategoryAction = payload => ({type: SORT_PRODUCTS_CATEGORIES, payload})\nexport const filterProductsCategoryAction = payload => ({type: FILTER_PRODUCTS_CATEGORIES, payload})\nexport const getCheapProductCategoryAction = payload => ({type: GET_CHEAP_PRODUCT_CATEGORIES, payload})\n\nexport const products_by_category_reducer = (state = {}, action) => {\n    // if (action.type === LOAD_PRODUCTS) {\n    //     const { data, category } = action.payload;\n    //     const data_show_product = data.map(el => ({...el, show_product: true}));\n    //     return [...state, category, data: data_show_product]\n    // } \n    // else \n    if (action.type === SORT_PRODUCTS_CATEGORIES) {\n        if (action.payload === 'default') {\n            console.log(state.data)\n            state.sort((a, b) => a.id-b.id)\n        } else if(action.payload === 'title') {\n            state.sort((a, b) => a.title.localeCompare(b.title))\n        } else if (action.payload === 'price_low') {\n            state.sort((a, b) => a.price-b.price)\n        } else if (action.payload === 'price_high') {\n            state.sort((a, b) => b.price-a.price)\n        } \n        return [...state]\n    } else if (action.type === FILTER_PRODUCTS_CATEGORIES) {\n        const { min_value, max_value } = action.payload;\n        // return state.map(el => {\n        //     if(el.price >= min_value && el.price <= max_value ) {\n        //         el.show_product = true\n        //     } else {\n        //         el.show_product = false\n        //     } \n        //     return el\n        // })  \n        const filterData = [...state.data].map(el => {\n            if (el.price >= min_value && el.price <= max_value) {\n                el.show_product = true;\n            } else {\n                el.show_product = false;\n            }\n            return el\n        });\n        return { ...state, data: filterData }\n    } else if(action.type === GET_CHEAP_PRODUCT_CATEGORIES) {\n        if(action.payload) {\n            return state.map(el => {\n                if(el.price > 100) {\n                    el.show_product = false\n                } \n                return el\n            })\n        } else {\n            return state.map(el => {\n                el.show_product = true\n                return el\n            })\n        }\n    }\n    else return state\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}