{"ast":null,"code":"const SORT_PRODUCTS = 'SORT_PRODUCTS';\nconst FILTER_PRODUCTS = 'FILTER_PRODUCTS';\nconst GET_CHEAP_PRODUCT = 'GET_CHEAP_PRODUCT';\nconst FILL_STATE = 'FILL_STATE';\nexport const fillState = payload => ({\n  type: FILL_STATE,\n  payload\n});\nexport const sortProductsAction = payload => ({\n  type: SORT_PRODUCTS,\n  payload\n});\nexport const filterProductsAction = payload => ({\n  type: FILTER_PRODUCTS,\n  payload\n});\nexport const getCheapProductAction = payload => ({\n  type: GET_CHEAP_PRODUCT,\n  payload\n});\nexport const sorting_reducer = (state = [], action) => {\n  if (action.type === FILL_STATE) {\n    return action.payload;\n  } else if (action.type === SORT_PRODUCTS) {\n    if (action.payload === 'default') {\n      state.sort((a, b) => a.id - b.id);\n    } else if (action.payload === 'title') {\n      state.sort((a, b) => a.title.localeCompare(b.title));\n    } else if (action.payload === 'price_low') {\n      state.sort((a, b) => a.price - b.price);\n    } else if (action.payload === 'price_high') {\n      state.sort((a, b) => b.price - a.price);\n    }\n    return [...state];\n  } else if (action.type === FILTER_PRODUCTS) {\n    const {\n      min_value,\n      max_value\n    } = action.payload;\n    return state.map(el => {\n      if (el.price >= min_value && el.price <= max_value) {\n        el.show_product = true;\n      } else {\n        el.show_product = false;\n      }\n      return el;\n    });\n  } else if (action.type === GET_CHEAP_PRODUCT) {\n    if (action.payload) {\n      return state.map(el => {\n        if (el.discont_price === null) {\n          el.show_product = false;\n        }\n        return el;\n      });\n    } else {\n      return state.map(el => {\n        el.show_product = true;\n        return el;\n      });\n    }\n  } else return state;\n};","map":{"version":3,"names":["SORT_PRODUCTS","FILTER_PRODUCTS","GET_CHEAP_PRODUCT","FILL_STATE","fillState","payload","type","sortProductsAction","filterProductsAction","getCheapProductAction","sorting_reducer","state","action","sort","a","b","id","title","localeCompare","price","min_value","max_value","map","el","show_product","discont_price"],"sources":["/Users/anastasiakobyzeva/Desktop/ReactTest/ProjectTelRun/2808nelly/src/store/Sorting_reducer/Sorting_reducer.js"],"sourcesContent":["const SORT_PRODUCTS = 'SORT_PRODUCTS'\nconst FILTER_PRODUCTS = 'FILTER_PRODUCTS'\nconst GET_CHEAP_PRODUCT = 'GET_CHEAP_PRODUCT'\nconst FILL_STATE = 'FILL_STATE'\n\nexport const fillState = payload => ({type: FILL_STATE, payload})\nexport const sortProductsAction = payload => ({type: SORT_PRODUCTS, payload})\nexport const filterProductsAction = payload => ({type: FILTER_PRODUCTS, payload})\nexport const getCheapProductAction = payload => ({type: GET_CHEAP_PRODUCT, payload})\n\nexport const sorting_reducer = (state = [], action) => {\n    if (action.type === FILL_STATE) {\n        return action.payload\n    } else if (action.type === SORT_PRODUCTS) {\n        if (action.payload === 'default') {\n            state.sort((a, b) => a.id-b.id)\n        } else if(action.payload === 'title') {\n            state.sort((a, b) => a.title.localeCompare(b.title))\n        } else if (action.payload === 'price_low') {\n            state.sort((a, b) => a.price-b.price)\n        } else if (action.payload === 'price_high') {\n            state.sort((a, b) => b.price-a.price)\n        } \n        return [...state]\n    } else if (action.type === FILTER_PRODUCTS) {\n        const { min_value, max_value } = action.payload;\n        return state.map(el => {\n            if(el.price >= min_value && el.price <= max_value ) {\n                el.show_product = true\n            } else {\n                el.show_product = false\n            } \n            return el\n        })  \n    } else if(action.type === GET_CHEAP_PRODUCT) {\n        if(action.payload) {\n            return state.map(el => {\n                if(el.discont_price === null) {\n                    el.show_product = false\n                } \n                return el\n            })\n        } else {\n            return state.map(el => {\n                el.show_product = true\n                return el\n            })\n        }\n    }\n    else return state\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}