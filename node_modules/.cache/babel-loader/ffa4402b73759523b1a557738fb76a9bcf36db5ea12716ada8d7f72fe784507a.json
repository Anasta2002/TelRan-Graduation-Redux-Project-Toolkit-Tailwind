{"ast":null,"code":"const LOAD_PRODUCTS = 'LOAD_PRODUCTS';\nconst SORT_PRODUCTS_CATEGORIES = 'SORT_PRODUCTS_CATEGORIES';\nconst FILTER_PRODUCTS_CATEGORIES = 'FILTER_PRODUCTS_CATEGORIES';\nconst GET_CHEAP_PRODUCT_CATEGORIES = 'GET_CHEAP_PRODUCT_CATEGORIES';\nexport const loadProductsByCategoryAction = payload => ({\n  type: LOAD_PRODUCTS,\n  payload\n});\nexport const sortProductsCategoryAction = payload => ({\n  type: SORT_PRODUCTS_CATEGORIES,\n  payload\n});\nexport const filterProductsCategoryAction = payload => ({\n  type: FILTER_PRODUCTS_CATEGORIES,\n  payload\n});\nexport const getCheapProductCategoryAction = payload => ({\n  type: GET_CHEAP_PRODUCT_CATEGORIES,\n  payload\n});\nexport const products_by_category_reducer = (state = {}, action) => {\n  if (action.type === LOAD_PRODUCTS) {\n    const {\n      data,\n      category\n    } = action.payload;\n    const data_show_product = data.map(el => ({\n      ...el,\n      show_product: true\n    }));\n    return {\n      ...state,\n      category,\n      data: data_show_product\n    };\n  } else if (action.type === SORT_PRODUCTS_CATEGORIES) {\n    let sortedData = [...state.data];\n    if (action.payload === 'title') {\n      sortedData.sort((a, b) => a.title.localeCompare(b.title));\n    } else if (action.payload === 'price_asc') {\n      sortedData.sort((a, b) => a.price - b.price);\n    } else if (action.payload === 'price_desk') {\n      sortedData.sort((a, b) => b.price - a.price);\n    } else if (action.payload === 'dafault') {\n      sortedData.sort((a, b) => a.id - b.id);\n    }\n    // } else if (action.type === FILTER_PRODUCTS_CATEGORIES) {\n    //         const { min_value, max_value } = action.payload;\n\n    //         const filterData = [...state.data].map(el => {\n    //             if (el.price >= min_value && el.price <= max_value) {\n    //                 el.show_product = true;\n    //             } else {\n    //                 el.show_product = false;\n    //             }\n    //             return el\n    //         });\n    //         return { ...state, data: filterData }\n    //     } else if (action.type === GET_CHEAP_PRODUCT_CATEGORIES) {\n    //         const discontData = action.payload\n    //         ? [...state.data].map(el => {\n    //             if (!el.discont_price) {\n    //                 el.show_product = false\n    //             }\n    //             return el\n    //         })\n    //         : state.data.map(el => {\n    //             el.show_product = true\n    //             return el\n    //         });\n    //     return { ...state, data: discontData }\n  } else return state;\n};","map":{"version":3,"names":["LOAD_PRODUCTS","SORT_PRODUCTS_CATEGORIES","FILTER_PRODUCTS_CATEGORIES","GET_CHEAP_PRODUCT_CATEGORIES","loadProductsByCategoryAction","payload","type","sortProductsCategoryAction","filterProductsCategoryAction","getCheapProductCategoryAction","products_by_category_reducer","state","action","data","category","data_show_product","map","el","show_product","sortedData","sort","a","b","title","localeCompare","price","id"],"sources":["/Users/anastasiakobyzeva/Desktop/ReactTest/ProjectTelRun/2808nelly/src/store/products_by_category_reducer/products_by_category_reducer.js"],"sourcesContent":["const LOAD_PRODUCTS = 'LOAD_PRODUCTS'\nconst SORT_PRODUCTS_CATEGORIES = 'SORT_PRODUCTS_CATEGORIES'\nconst FILTER_PRODUCTS_CATEGORIES = 'FILTER_PRODUCTS_CATEGORIES'\nconst GET_CHEAP_PRODUCT_CATEGORIES = 'GET_CHEAP_PRODUCT_CATEGORIES'\n\nexport const loadProductsByCategoryAction = payload => ({type: LOAD_PRODUCTS, payload}) \nexport const sortProductsCategoryAction = payload => ({type: SORT_PRODUCTS_CATEGORIES, payload})\nexport const filterProductsCategoryAction = payload => ({type: FILTER_PRODUCTS_CATEGORIES, payload})\nexport const getCheapProductCategoryAction = payload => ({type: GET_CHEAP_PRODUCT_CATEGORIES, payload})\n\nexport const products_by_category_reducer = (state = {}, action) => {\n    if (action.type === LOAD_PRODUCTS) {\n        const { data, category } = action.payload;\n        const data_show_product = data.map(el => ({...el, show_product: true}));\n        return {...state, category, data: data_show_product}\n    } else if (action.type === SORT_PRODUCTS_CATEGORIES) {\n        let sortedData = [...state.data]\n        if (action.payload === 'title') {\n            sortedData.sort((a, b) => a.title.localeCompare(b.title))\n\n        } else if (action.payload === 'price_asc') {\n            sortedData.sort((a, b) => a.price - b.price)\n\n\n        } else if (action.payload === 'price_desk') {\n            sortedData.sort((a, b) => b.price - a.price)\n\n        } else if (action.payload === 'dafault') {\n            sortedData.sort((a, b) => a.id - b.id)\n        }\n    // } else if (action.type === FILTER_PRODUCTS_CATEGORIES) {\n    //         const { min_value, max_value } = action.payload;\n    \n    //         const filterData = [...state.data].map(el => {\n    //             if (el.price >= min_value && el.price <= max_value) {\n    //                 el.show_product = true;\n    //             } else {\n    //                 el.show_product = false;\n    //             }\n    //             return el\n    //         });\n    //         return { ...state, data: filterData }\n    //     } else if (action.type === GET_CHEAP_PRODUCT_CATEGORIES) {\n    //         const discontData = action.payload\n    //         ? [...state.data].map(el => {\n    //             if (!el.discont_price) {\n    //                 el.show_product = false\n    //             }\n    //             return el\n    //         })\n    //         : state.data.map(el => {\n    //             el.show_product = true\n    //             return el\n    //         });\n    //     return { ...state, data: discontData }\n    } else return state\n}"],"mappings":"AAAA,MAAMA,aAAa,GAAG,eAAe;AACrC,MAAMC,wBAAwB,GAAG,0BAA0B;AAC3D,MAAMC,0BAA0B,GAAG,4BAA4B;AAC/D,MAAMC,4BAA4B,GAAG,8BAA8B;AAEnE,OAAO,MAAMC,4BAA4B,GAAGC,OAAO,KAAK;EAACC,IAAI,EAAEN,aAAa;EAAEK;AAAO,CAAC,CAAC;AACvF,OAAO,MAAME,0BAA0B,GAAGF,OAAO,KAAK;EAACC,IAAI,EAAEL,wBAAwB;EAAEI;AAAO,CAAC,CAAC;AAChG,OAAO,MAAMG,4BAA4B,GAAGH,OAAO,KAAK;EAACC,IAAI,EAAEJ,0BAA0B;EAAEG;AAAO,CAAC,CAAC;AACpG,OAAO,MAAMI,6BAA6B,GAAGJ,OAAO,KAAK;EAACC,IAAI,EAAEH,4BAA4B;EAAEE;AAAO,CAAC,CAAC;AAEvG,OAAO,MAAMK,4BAA4B,GAAGA,CAACC,KAAK,GAAG,CAAC,CAAC,EAAEC,MAAM,KAAK;EAChE,IAAIA,MAAM,CAACN,IAAI,KAAKN,aAAa,EAAE;IAC/B,MAAM;MAAEa,IAAI;MAAEC;IAAS,CAAC,GAAGF,MAAM,CAACP,OAAO;IACzC,MAAMU,iBAAiB,GAAGF,IAAI,CAACG,GAAG,CAACC,EAAE,KAAK;MAAC,GAAGA,EAAE;MAAEC,YAAY,EAAE;IAAI,CAAC,CAAC,CAAC;IACvE,OAAO;MAAC,GAAGP,KAAK;MAAEG,QAAQ;MAAED,IAAI,EAAEE;IAAiB,CAAC;EACxD,CAAC,MAAM,IAAIH,MAAM,CAACN,IAAI,KAAKL,wBAAwB,EAAE;IACjD,IAAIkB,UAAU,GAAG,CAAC,GAAGR,KAAK,CAACE,IAAI,CAAC;IAChC,IAAID,MAAM,CAACP,OAAO,KAAK,OAAO,EAAE;MAC5Bc,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,KAAK,CAACC,aAAa,CAACF,CAAC,CAACC,KAAK,CAAC,CAAC;IAE7D,CAAC,MAAM,IAAIX,MAAM,CAACP,OAAO,KAAK,WAAW,EAAE;MACvCc,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACI,KAAK,GAAGH,CAAC,CAACG,KAAK,CAAC;IAGhD,CAAC,MAAM,IAAIb,MAAM,CAACP,OAAO,KAAK,YAAY,EAAE;MACxCc,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACG,KAAK,GAAGJ,CAAC,CAACI,KAAK,CAAC;IAEhD,CAAC,MAAM,IAAIb,MAAM,CAACP,OAAO,KAAK,SAAS,EAAE;MACrCc,UAAU,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACK,EAAE,GAAGJ,CAAC,CAACI,EAAE,CAAC;IAC1C;IACJ;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA,CAAC,MAAM,OAAOf,KAAK;AACvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}